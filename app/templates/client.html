<!DOCTYPE html>
<html>
  <head>
    <title>Feature Request Client</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">

    <link rel="stylesheet" href="//cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css">
    <link rel="stylesheet" href="//cdn.datatables.net/responsive/2.1.0/css/responsive.bootstrap.min.css">

    
    <script src="http://ajax.aspnetcdn.com/ajax/jquery/jquery-1.9.0.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js"></script>
    <script src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/1.10.12/js/dataTables.bootstrap.min.js"></script>
    <script src="//cdn.datatables.net/responsive/2.1.0/js/dataTables.responsive.min.js"></script>
    <script src="//cdn.datatables.net/responsive/2.1.0/js/responsive.bootstrap.min.js"></script>
  </head>
  <body>
    <div class="navbar">
      <div class="navbar-inner">
	<a class="brand" href="#">Feature Request</a>
      </div>
    </div>
    <div id="main" class="container">
      <table class="table table-striped" id="tblResults">
	<thead>
	  <th>Status</th>
	  <th>Client</th>
	  <th>Client Priority</th>
	  <th>Title</th>
	  <th>Target Date</th>
	  <th>Date Entered</th>
	</thead>
	<tbody>
	  <!-- ko foreach: tasks -->
	  <tr>
	    <td><!-- status -->
	      <span data-bind="visible: done" class="label label-success">Done</span>
	      <span data-bind="visible: !done()" class="label label-important">In Progress</span>
	    </td>
	    <td>
	      <span data-bind="text: client"></span>
	    </td>
	    <td>
	      <span></span>
	    </td>
	    <td>
	      <p><b data-bind="text: title"></b></p>
	    </td>
	    <td>
	      <span></span>
	    </td>
	    <td>
	      <span></span>
	    </td>
	    <td>
	      <button data-bind="click:$parent.beginEdit"
		      class="btn">
		Edit
	      </button>
	      
	      <button data-bind="click: $parent.remove" 
		      class="btn">Delete</button>
	      
	      <span data-bind="visible: done">
		<button data-bind="click: $parent.markInProgress" class="btn">Mark In Progress</button>
	      </span>
	      <span data-bind="visible: !done()">
		<button data-bind="click: $parent.markDone" class="btn">Mark Done</button>
	      </span>
	    </td>
	  </tr>
	  <!-- /ko -->
      </table>
      <button data-bind="click: beginAdd" class="btn">Add Task</button>
    </div>
    <script src="{{ url_for('static', filename='js/client.js') }}"></script>
    <script>
      var el = $('#main');
      if (el.length == 1) {
	  var main = el[0];
	  var vm = new TasksViewModel();
	  vm.init();
	  ko.applyBindings(vm, main);
	  //$('#tblResults').DataTable();
      } else {
	  console.log("Can't find element #main!");
      }
    </script>
  </body>
</html>
